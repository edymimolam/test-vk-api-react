(this["webpackJsonpvk-friends-search-test"]=this["webpackJsonpvk-friends-search-test"]||[]).push([[0],{14:function(n,e,t){n.exports=t(22)},19:function(n,e,t){},22:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(8),i=t.n(o),u=(t(19),t(4)),c=t(3),l="LOGIN_REQUEST",s="LOGIN_SUCCESS",d="LOGIN_FAILURE",f="LOGOUT",m="FRIENDS_REQUEST",p="FRIENDS_SUCCESS",g="FRIENDS_FAILURE",h="FRIENDS_CLEAR",b={isLoading:!1,isAuth:!1,user:null,friends:null,Error:null},v=function(n,e){switch(e.type){case l:case m:return Object(c.a)({},n,{isLoading:!0});case s:return Object(c.a)({},n,{isLoading:!1,isAuth:!0,user:e.payload});case d:return Object(c.a)({},n,{isLoading:!1,isAuth:!1,Error:e.payload});case f:return{isLoading:!1,isAuth:!1,user:null};case p:return Object(c.a)({},n,{isLoading:!1,friends:Object(c.a)({},e.payload)});case g:return Object(c.a)({},n,{isLoading:!1,Error:e.payload});case h:return Object(c.a)({},n,{friends:null});default:return n}},E=a.a.createContext({}),x=E.Provider,O=a.a.createContext({}),j=O.Provider,y=t(9),w=t.n(y),A=t(1),_=t(2),C=function(){var n=Object(r.useContext)(E);return{state:n[0],dispatch:n[1]}},L=function(){return Object(r.useContext)(O)};function S(){var n=Object(A.a)(["\n  width: 70%;\n  max-width: 500px;\n  font-size: 1.3rem;\n  border-radius: 25px;\n  border: 1px solid white;\n  padding: 0.5em 1em;\n  box-shadow: 0 0px 11px rgba(57, 63, 72, 0.15);\n  margin: 0 auto 3rem;\n  display: block;\n\n  &:focus {\n    outline: none;\n    box-shadow: 0 0px 7px rgba(57, 63, 72, 0.15);\n  }\n"]);return S=function(){return n},n}var k=_.a.input(S()),I=function(){var n=function(){var n=Object(r.useState)(""),e=Object(u.a)(n,2),t=e[0],a=e[1],o=C().dispatch,i=L();Object(r.useEffect)((function(){return t?(o({type:m}),i.Api.call("friends.search",{q:t,fields:"photo_100, screen_name",v:"5.103"},(function(n){n.response&&o({type:p,payload:n.response}),n.error&&o({type:g,payload:n.error})}))):o({type:h}),function(){}}),[t,o,i.Api]);return{text:t,onTextChange:function(n){return a(n.currentTarget.value)}}}(),e=n.text,t=n.onTextChange;return a.a.createElement(k,{value:e,onChange:function(n){return t(n)}})};function R(){var n=Object(A.a)(["\n  text-align: left;\n"]);return R=function(){return n},n}function F(){var n=Object(A.a)(["\n  margin-right: 1rem;\n"]);return F=function(){return n},n}function N(){var n=Object(A.a)(["\n  margin: 0 auto 2rem;\n  max-width: 700px;\n  display: flex;\n  align-items: center;\n"]);return N=function(){return n},n}var U=_.a.article(N()),T=_.a.img(F()),z=_.a.h3(R()),D=function(n){var e=n.item;return a.a.createElement(U,null,a.a.createElement(T,{src:e.photo_100,alt:"".concat(e.first_name," ").concat(e.last_name)}),a.a.createElement(z,null,"".concat(e.first_name," ").concat(e.last_name)))};function G(){var n=Object(A.a)(["\n  max-width: 500px;\n  margin: 0 auto;\n  padding: 0 2rem;\n"]);return G=function(){return n},n}var W=_.a.main(G()),B=function(){var n=C().state.friends,e=[];return n&&(e=n.items.map((function(n){return a.a.createElement(D,{key:n.id,item:n})}))),a.a.createElement(W,null,e)};function J(){var n=Object(A.a)(["\n  background: #6200ee;\n  font-size: 1.1rem;\n  color: white;\n  @media (max-width: 700px) {\n    padding: 0.75rem 1rem;\n  }\n"]);return J=function(){return n},n}function P(){var n=Object(A.a)(["\n  background: transparent;\n  border: 2px solid #6200ee;\n  font-size: 1.5rem;\n  color: #6200ee;\n"]);return P=function(){return n},n}function Q(){var n=Object(A.a)(["\n  padding: 0.5rem 2rem;\n  border-radius: 10px;\n  text-transform: uppercase;\n"]);return Q=function(){return n},n}function q(){var n=Object(A.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n"]);return q=function(){return n},n}function $(){var n=Object(A.a)(["\n  padding: 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 3px 11px rgba(57, 63, 72, 0.1);\n  margin-bottom: 3rem;\n"]);return $=function(){return n},n}function H(){var n=Object(A.a)(["\n  display: flex;\n  min-height: 100vh;\n  justify-content: center;\n  align-items: center;\n"]);return H=function(){return n},n}var K=_.a.div(H()),M=_.a.header($()),V=_.a.img(q()),X=_.a.button(Q()),Y=Object(_.a)(X)(P()),Z=Object(_.a)(X)(J()),nn=function(){var n=function(){var n=C().dispatch,e=L(),t=Object(r.useCallback)((function(){return e.Api.call("users.get",{fields:"photo_200, counters",v:"5.103"},(function(e){return n({type:s,payload:e.response[0]})}))}),[n,e.Api]);Object(r.useEffect)((function(){e.Auth.getLoginStatus((function(e){return e.session?t():n({type:d})}))}),[e.Auth,t,n]);return{login:function(){n({type:l}),e.Auth.login((function(e){return e.session?t():n({type:d,payload:new Error("Authorization Error")})}),2)},logout:function(){return e.Auth.logout((function(){return n({type:f})}))}}}(),e=n.login,t=n.logout,o=C().state,i=o.isAuth,u=o.user;return a.a.createElement(a.a.Fragment,null,i&&a.a.createElement(a.a.Fragment,null,a.a.createElement(M,null,a.a.createElement(V,{src:u.photo_200}),a.a.createElement("p",null,"\u0414\u0440\u0443\u0437\u044c\u044f: ",u.counters.friends),a.a.createElement(Z,{onClick:function(){return t()}},"logout")),a.a.createElement(I,null),a.a.createElement(B,null)),i||a.a.createElement(K,null,a.a.createElement(Y,{onClick:function(){return e()}},"login")))};var en=function(){var n=Object(r.useReducer)(v,b),e=Object(r.useState)(null),t=Object(u.a)(e,2),o=t[0],i=t[1];return a.a.createElement("div",{className:"App"},a.a.createElement(w.a,{apiId:7301447,onApiAvailable:i,onlyWidgets:!1},a.a.createElement(j,{value:o},a.a.createElement(x,{value:n},a.a.createElement(nn,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(en,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.c4cbed32.chunk.js.map